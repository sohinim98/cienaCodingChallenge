{"version":3,"sources":["components/Command/Command.js","App.js","serviceWorker.js","index.js"],"names":["Command","useState","serverReady","setServerReady","userCommand","setUserCommand","response","setResponse","setXLabel","yLabel","setYLabel","setLimit","xData","setXData","yData","setYData","useEffect","axios","get","then","res","status","catch","error","console","log","setAction","event","target","id","data","getTrace","message","selectedXdata","xdata","filter","elem","index","ylabel","ydata","labels","datasets","label","fill","backgroundColor","borderColor","className","type","value","onChange","e","placeholder","onClick","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f83cb96e.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Line } from 'react-chartjs-2';\n\nimport './Command.scss';\n\nexport const Command = () => {\n\n  const [ serverReady, setServerReady ] = useState(false);\n  const [ userCommand, setUserCommand ] = useState('');\n  const [ response, setResponse ] = useState('');\n  const [ xLabel, setXLabel ] = useState('');\n  const [ yLabel, setYLabel ] = useState('');\n  const [ limit, setLimit ] = useState([]);\n  const [ xData, setXData ] = useState([]);\n  const [ yData, setYData ] = useState([]);\n\n  useEffect(() => {\n    axios\n      .get('https://cors-anywhere.herokuapp.com/http://flaskosa.herokuapp.com/cmd/PING')\n      .then(res => {\n        if (res.status === 200) {\n          setServerReady(true);\n        }\n      })\n      .catch(error => {\n        console.log('error', error);\n      })\n  }, [])\n  const makeQuery = () => {\n    axios\n      .get('https://cors-anywhere.herokuapp.com/http://flaskosa.herokuapp.com/cmd/'+userCommand)\n      .then(res => {\n        if (res.status === 200) {\n          console.log('success', res);\n          setResponse(res.data);\n          if(userCommand === 'START') {\n            getTrace();\n          }\n        }\n      })\n      .catch(error => {\n        console.log('error', error);\n        setResponse(error.message);\n      })\n  }\n  const setAction = (event) => {\n    setUserCommand(event.target.id);\n    axios\n      .get('https://cors-anywhere.herokuapp.com/http://flaskosa.herokuapp.com/cmd/'+userCommand)\n      .then(res => {\n        if (res.status === 200) {\n          setResponse(res.data);\n          if(userCommand === 'START') {\n            getTrace();\n          }\n        }\n      })\n      .catch(error => {\n        console.log('error', error);\n        setResponse(error.message);\n      })\n  }\n\n  const getTrace = () => {\n    axios\n      .get('https://cors-anywhere.herokuapp.com/http://flaskosa.herokuapp.com/cmd/LIM')\n      .then(res => {\n        if (res.status === 200) {\n          setLimit([1,2]);\n          // get limits\n          console.log(\"lim\", res.data);\n        }\n      })\n      .catch(error => {\n        console.log('error', error);\n      })\n    axios\n      .get('https://cors-anywhere.herokuapp.com/http://flaskosa.herokuapp.com/cmd/TRACE')\n      .then(res => {\n        if (res.status === 200) {\n          const selectedXdata = res.data.xdata.filter((elem, index) => index > 1500 && index < 1505);\n          console.log('error', selectedXdata);\n          setXLabel(selectedXdata);\n          setYLabel(res.data.ylabel);\n          setXData(res.data.xdata);\n          setYData(res.data.ydata);\n        }\n      })\n      .catch(error => {\n        console.log('error', error);\n      })\n  }\n  const data = {\n  labels: [xData],\n  datasets: [\n    {\n      label: yLabel,\n      data: yData,\n      fill: true,\n      backgroundColor: \"rgba(75,192,192,0.2)\",\n      borderColor: \"rgba(75,192,192,1)\"\n    }\n  ]\n};\n\n  return (\n    <div className=\"command\">\n      { serverReady ? (\n        <div>\n          <input\n            className=\"command--input\"\n            type=\"text\"\n            value={userCommand}\n            onChange={e => setUserCommand(e.target.value)}\n            placeholder=\"eg - IDN\"\n          />\n          <button onClick={makeQuery} className=\"commmand-query\">Query</button>\n          <div className=\"command--actions\">\n            <button onClick={setAction} id=\"START\" className=\"command--action\">Start</button>\n            <button onClick={setAction} id=\"STOP\" className=\"command--action\">Stop</button>\n            <button onClick={setAction} id=\"SINGLE\" className=\"command--action\">Single Trace</button>\n          </div>\n          <h1>Instrument Response</h1>\n          { response }\n          <Line\n            data={data}\n          />\n        </div>\n      ) : (\n        'Server not responding...'\n      )}\n    </div>\n  );\n}\n\nexport default Command;\n","import React from 'react';\n\n\nimport './App.scss'\nimport Command from './components/Command/Command'\n\nexport const App = () => {\n\n  return (\n    <Command />\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}